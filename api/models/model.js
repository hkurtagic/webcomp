/* A class representing your resource. At the moment, its name is Resource. But you
   can (and probalby should) rename it to whatever you are going to use as a Resource.
   At the moment the example resource has only a name. You can delete this property
   if you don't need it.

   Task 1 - Part 1: Replace the Resource class with a new class of your choosing, that
   has at least three properties: one string property, one number property, one boolean
   property, and - optionally - a date property.
   Then, adapt the initialization of the data at the end of this file (Task 2 - Part 2)
   so that you have some instances of your object available that can be served to the client.
 */
const movies = {
    "Deadpool & Wolverine Handlung": {
    "shortDesc": 'In “Deadpool & Wolverine” müssen die beiden Charaktere, Wade Wilson alias Deadpool und James “Logan” Howlett alias Wolverine, zusammenarbeiten, um eine Bedrohung für ihre jeweiligen Zeitlinien zu bekämpfen. Nachdem Deadpool von der Time Variance Authority (TVA) gefangen genommen wurde, bietet Mr. Paradox ihm einen Platz auf der Erde-616 an, wo er Wolverine trifft. Als Ankerwesen für ihre Zeitlinien müssen sie gemeinsam gegen eine Bedrohung vorgehen, die ihre Existenz und die Stabilität ihrer jeweiligen Realitäten gefährdet.',
        "longDesc": 'Der Film “Deadpool & Wolverine” erzählt die Geschichte von Wade Wilson, besser bekannt als Deadpool, der von der Time Variance Authority (TVA) gefangen genommen wird und zu Mr. Paradox gebracht wird. Dieser bietet ihm einen Platz auf der Erde-616 an, wo er James “Logan” Howlett, auch bekannt als Wolverine, trifft. Logan ist ein Ankerwesen für seine Zeitlinie, ohne das diese zerfallen würde. Als Deadpool und Wolverine sich kennenlernen, erkennen sie, dass ihre jeweiligen Zeitlinien bedroht werden, und müssen gemeinsam gegen diese Gefahr vorgehen.\n\nIm Laufe des Films erfahren wir, dass Wade Wilsons Zeitlinie infolge des Todes von James “Logan” Howlett alias Wolverine zerfällt, der als Ankerwesen für seine Zeitlinie fungiert. Um ihre Existenz und die Stabilität ihrer jeweiligen Realitäten zu retten, müssen Deadpool und Wolverine zusammenarbeiten. Sie müssen sich gegen eine Bedrohung stellen, die von einem ersten Mutanten ausgeht, der die Welt zerstören will.\n\nWährend des Films werden auch Flashbacks gezeigt, die die Vorgeschichte von Wolverine erzählen, bevor er sich Deadpool begegnet. Wir sehen, wie Wolverine als gewalttätige Waffe X auftritt, um die Welt zu retten. Es ist jedoch unwahrscheinlich, dass Deadpool und Wolverine auf diese Geschichte Bezug nehmen werden.\n\nAm Ende des Films müssen Deadpool und Wolverine ihre unterschiedlichen Persönlichkeiten und Fähigkeiten zusammenbringen, um die Bedrohung zu besiegen und ihre jeweiligen Zeitlinien zu retten. Der Film endet mit einem Hoffnungsvollen Ausblick auf die Zukunft der beiden Charaktere.',
    "releaseYear": 2024,
        "rating": 77,
        "fsk18": true
},
    "The Lego Movie": {
    "shortDesc": "In “The LEGO Movie”, Emmet, eine gewöhnliche und sich an Regeln haltende Minifigur, wird als “The Chosen One” erkannt, der die Welt retten soll. Er wird von Wyldstyle, einer rebellischen Minifigur, und Batman, einem selbstbewussten Superhelden, unterstützt, um gegen Lord Business, einen perfektionistischen und autoritären Anführer, zu kämpfen. Durch seine Reise entdeckt Emmet, dass er sich nicht nur an Regeln, sondern auch an seine eigene Kreativität und Freiheit binden muss.",
        "longDesc": "In “The LEGO Movie” wird die Geschichte um Emmet, eine durchschnittliche und sich an Regeln haltende Minifigur, erzählt, die durch einen Zufall in den Mittelpunkt der Welt gerät. Nachdem er von Wyldstyle, einer rebellischen Minifigur, gefunden wird, wird er als “The Chosen One” erkannt, der die Welt retten soll. Lord Business, ein perfektionistischer und autoritärer Anführer, plant, die Welt zu zerstören, um seine perfekte Ordnung aufrechtzuerhalten.\n\nEmmet wird von Wyldstyle und Batman, einem selbstbewussten Superhelden, unterstützt, um gegen Lord Business zu kämpfen. Auf seiner Reise entdeckt Emmet, dass er sich nicht nur an Regeln, sondern auch an seine eigene Kreativität und Freiheit binden muss. Er lernt, dass die Welt nicht nur aus perfekten Bauwerken besteht, sondern auch aus Unperfektion und Kreativität. Durch seine Begegnungen mit verschiedenen Minifiguren und seiner Auseinandersetzung mit Lord Business’ Plänen entwickelt Emmet seine eigene Identität und findet seine wahre Stärke.\n\nDie Geschichte ist eine satirische und humorvolle Auseinandersetzung mit Themen wie Perfektionismus, Autorität und Kreativität, die durch die einzigartige Welt der LEGO-Figuren vermittelt wird.",
        "releaseYear": 2014,
        "rating": 74,
        "fsk18": false
},
    "Alita: Battle Angel": {
    "shortDesc": "In der dystopischen Zukunft nach einem globalen Krieg finden sich die Überreste der Menschheit auf der Erde und auf dem Mars. Alita, ein Cyborg, wird von Dr. Ido, einem Cyberdoktor, gefunden und restauriert. Sie erinnert sich nicht an ihre Vergangenheit, aber ihre Fähigkeiten und Instinkte deuten auf eine einstige Kampfkunst aus. Als sie sich in die Welt einfügt, wird sie von einem Netzwerk von Schlägern und Schutzengeln umgeben. Sie entwickelt eine Beziehung zu Hugo, einem Jungen, und wird zu einem Hunter-Warrior, um gegen die Schläger und ihre Führer, wie Grewishka, zu kämpfen. Alita muss ihre Identität und ihre Ziele finden, während sie sich in einem Kampf um ihre Existenz und die Zukunft der Menschheit befindet.",
        "longDesc": "In der post-apokalyptischen Welt von Alita: Battle Angel, die nach einem globalen Krieg und einem Kometeneinschlag auf der Erde entstanden ist, finden sich die Überreste der Menschheit auf der Erde und auf dem Mars. Die Stadt Schrottstadt, wo die Handlung stattfindet, ist ein Ort, an dem Menschen und Cyborgs leben, die von den Überresten der alten Welt überlebt haben. Alita, ein Cyborg, wird von Dr. Ido, einem Cyberdoktor, gefunden und restauriert. Sie erinnert sich nicht an ihre Vergangenheit, aber ihre Fähigkeiten und Instinkte deuten auf eine einstige Kampfkunst aus, die sie als “Panzerkunst” bezeichnet. Als sie sich in die Welt einfügt, wird sie von einem Netzwerk von Schlägern und Schutzengeln umgeben, die sich in der Stadt tummeln.\n\nSie entwickelt eine Beziehung zu Hugo, einem Jungen, der sich als ihr Partner und Freund entpuppt. Als sie sich in die Welt einfügt, wird sie zu einem Hunter-Warrior, um gegen die Schläger und ihre Führer, wie Grewishka, zu kämpfen. Grewishka ist ein ehemaliger Soldat, der sich als Anführer der Schlägergruppe “Mecha-Humans” etabliert hat. Alita muss ihre Identität und ihre Ziele finden, während sie sich in einem Kampf um ihre Existenz und die Zukunft der Menschheit befindet.\n\nIm Laufe der Handlung entdeckt Alita, dass sie ein wichtiger Teil einer größeren Geschichte ist, die sich um die Stadt Zalem und die Republik der Marsfraktion dreht. Sie lernt Caella Sanguise, eine Vampirin, und Mui, eine Priesterin des Mars, kennen, die ihr helfen, ihre Vergangenheit zu entschlüsseln und ihre Rolle in der Welt zu verstehen. Alita muss sich zwischen ihren Instinkten als Kämpferin und ihrer neuen Identität als Alita, der Tochter von Dr. Ido, entscheiden, während sie sich auf einen Kampf gegen die Mächte einlässt, die die Zukunft der Menschheit bedrohen.\n\nDie Handlung von Alita: Battle Angel ist eine Mischung aus Action, Science-Fiction und Drama, die sich um die Themen Identität, Existenz und die Zukunft der Menschheit dreht.",
        "releaseYear": 2019,
        "rating": 72,
        "fsk18": false
}
}

class Resource {
    constructor(name) {
        this.name = name;
    }
}
class Movie {
    movieName = (name) => {
        this.movieName = name
        return this
    }

    movieShortDescription = (desc) => {
        this.movieShortDescription = desc
        return this
    }

    movieLongDescription = (desc) => {
        this.movieLongDescription = desc
        return this
    }

    rating = (rating) => {
        this.rating = rating
        return this
    }

    releaseYear = (year) => {
        this.releaseYear = year
        return this
    }
    fsk18 = (boolean) => {
        this.fsk18 = boolean
        return this
    }
}

/* A model managing a map of resources. The id of the object is used as key in the map. */
class Model {
    static ID = 1;

    constructor() {
        this.resources = new Map();
    }

    add(resource) {
        resource.id = Model.ID++;
        this.resources.set(resource.id, resource);
    }

    get(id) {
        this.checkId(id);
        return this.resources.get(id);
    }

    getAll() {
        return Array.from(this.resources.values());
    }

    checkId(id) {
        if (typeof id !== "number") {
            throw new Error(`Given id must be an number, but is a ${typeof id}`);
        }
    }

    create(resource) {
        this.add(resource);
        return resource;    
    }

    update(id, resource) {
        this.checkId(id);

        const target = this.resources.get(id);
        if (!target) {
            throw new Error(`Resource with ${id} does not exist and cannot be updated.`)
        }

        Object.assign(target, resource);

        return target;
    }

    delete = (id) => {
        this.checkId(id);
        return this.resources.delete(id);
    }
}

const model = new Model();

/* Task 1 - Part 2. Replace these three instances of the example Class Resource with instances
   of your own class */
model.add(new Movie().movieName("Deadpool & Wolverine Handlung")
    .movieShortDescription(movies["Deadpool & Wolverine Handlung"].shortDesc)
    .movieLongDescription(movies["Deadpool & Wolverine Handlung"].longDesc)
    .rating(movies["Deadpool & Wolverine Handlung"].rating)
    .fsk18(movies["Deadpool & Wolverine Handlung"].fsk18)
    .releaseYear(movies["Deadpool & Wolverine Handlung"].releaseYear));
model.add(new Movie().movieName("The Lego Movie")
    .movieShortDescription(movies["The Lego Movie"].shortDesc)
    .movieLongDescription(movies["The Lego Movie"].longDesc)
    .rating(movies["The Lego Movie"].rating)
    .fsk18(movies["The Lego Movie"].fsk18)
    .releaseYear(movies["The Lego Movie"].releaseYear));
model.add(new Movie().movieName("Alita: Battle Angel")
    .movieShortDescription(movies["Alita: Battle Angel"].shortDesc)
    .movieLongDescription(movies["Alita: Battle Angel"].longDesc)
    .rating(movies["Alita: Battle Angel"].rating)
    .fsk18(movies["Alita: Battle Angel"].fsk18)
    .releaseYear(movies["Alita: Battle Angel"].releaseYear));

export default model
